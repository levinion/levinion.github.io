<!DOCTYPE html>
<html data-theme="dark">

<head>
  
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="/assets/css/pico.css" />
<link rel="stylesheet" href="/assets/css/custom.css" />
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script> 


  <style>
    article {
      background: rgb(28, 29, 33);
      max-width: 70%;
      text-align: left;
      margin: 0 auto;
      border-radius: 30px;
    }

    @media (max-width: 768px) {
      article {
        max-width: 90%;
      }

      h1 {
        font-size: large;
      }

      .date {
        font-size: small;
      }

      p,
      li {
        font-size: 15px;
      }
    }

    p,
    li {
      font-size: 16.5px;
      line-height: 32px;
    }

    h1 {
      text-align: center;
      margin-bottom: 10px;
    }

    .meta p {
      text-align: center;
    }

    .date {
      text-align: center;
    }

    .toc {
      position: fixed;
      float: left;
      max-width: 50px;
      max-height: 50px;
      margin-top: 200px;
      text-align: center;
    }

    h2 {
      font-size: x-large;
      color: peru;
    }

    h3 {
      font-size: large;
      color: rgb(205, 158, 112);
    }

    h4 {
      font-size: medium;
      color: pink;
    }

    strong {
      color: rgb(182, 230, 240);
    }
  </style>
  <title>ä¸€æ¬¡åŠ›æ‰£çˆ¬è™«çš„å°è¯•</title>
</head>

<body onselectstart="return false">
  
<nav>
  <a href="/" class="logo">Maruka's Blog</a>
  <div class="breadcrumb">
    <ul>
      <li>
        <a href="/posts">æ–‡ç« </a>
      </li>
      <li>
        <a href="/category">åˆ†ç±»</a>
      </li>
      <li>
        <a href="/about">å…³äº</a>
      </li>
    </ul>
  </div>
</nav>

  <div>
    <div class="meta">
      <h1>ä¸€æ¬¡åŠ›æ‰£çˆ¬è™«çš„å°è¯•</h1>
      <p>2023-02-14 21:02:57</p>
    </div>
    <article><h2 id="1-"><a class="anchor" href="#1-">#</a> 1 ğŸ¤”æ¬²åšå…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨</h2>
<p>æœ€è¿‘å¼€å§‹åˆ·åŠ›æ‰£ï¼Œå¥ˆä½•åŠ›æ‰£çš„é‚£ä¸ªç¼–è¾‘å™¨ï¼ˆmonaco editorï¼‰å®åœ¨ä¸å¥½ç”¨ï¼Œè¿˜æ˜¯ç”¨èµ·äº†å¸¸ç”¨çš„ vscodeã€‚æ¯æ¬¡å¼€å§‹ä¸€é“é¢˜ç›®ä¹‹å‰ä¸å¯é¿å…åœ°éœ€è¦å°†é¢˜ç›®è¦æ±‚å’Œä»£ç å¤åˆ¶åˆ°æœ¬åœ°ï¼Œè€Œè¿™æ ·çš„é‡å¤åŠ³åŠ¨ååˆ†ä»¤äººç”ŸåŒï¼Œäºæ˜¯å¼€ä¸ªé¡¹ç›®ï¼ŒæŠŠä¹‹å‰å†™çš„ç»Ÿè®¡æ–‡ä»¶æ•°çš„å‘½ä»¤è¡Œç¨‹åºæ‰©å±•æˆä¸€ä¸ªçˆ¬è™«å·¥å…·ã€‚</p>
<h2 id="2-"><a class="anchor" href="#2-">#</a> 2 ğŸ§°å·¥å…·å’ŒåŸºç¡€ä»£ç </h2>
<p>ç”±äºä¸ªäººä¸»è¦ä½¿ç”¨ go è¯­è¨€ï¼Œå› æ­¤çˆ¬è™«ä¹Ÿé€‰æ‹©ä½¿ç”¨ go æ¥å®ç°ï¼›å¦‚æœä½ ä½¿ç”¨å…¶ä»–è¯­è¨€ï¼Œä¹Ÿå¯ä»¥å‚è€ƒè¯¥å®ç°çš„ä¸»è¦æ€è·¯ã€‚è¯¥å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨ cobra æ¡†æ¶å®Œæˆï¼Œä½†é‚£å¹¶éè¦è®¨è®ºçš„å†…å®¹ã€‚è®©æˆ‘ä»¬çœ‹çœ‹çˆ¬è™«éƒ¨åˆ†ã€‚</p>
<h3 id="21-req"><a class="anchor" href="#21-req">#</a> 2.1 req</h3>
<p>req æ˜¯ go è¯­è¨€çˆ¬è™«çš„æœ€ä½³å®è·µä¹‹ä¸€ï¼Œå…¶æ“ä½œååˆ†ç®€å•ã€‚åœ¨çˆ¬è™«éƒ¨åˆ†ä¸­ï¼Œæ ¸å¿ƒç¯èŠ‚å³æ˜¯ç”± req å®ç°çš„ query è¯·æ±‚å‡½æ•°ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä»£ç ï¼š</p>
<pre><code class="language-go">func query(bodyJsonString string) *req.Response {
    res, err := req.C().R().
        //csrfæ ‡å¤´è®¾ç½®
        SetHeader(&quot;x-csrftoken&quot;,
        &quot;**********************************************************&quot;).
        SetHeader(&quot;referer&quot;, &quot;https://leetcode.cn/problems&quot;).
        SetBodyJsonString(bodyJsonString).
        Post(&quot;https://leetcode.cn/graphql/&quot;)
        checkErr(err)
    return res
}

</code></pre>
<p>åœ¨è¯¥æ®µä»£ç ä¸­ï¼Œä½¿ç”¨ <code>.C()</code> è·å–ä¸€ä¸ªçˆ¬è™«å®¢æˆ·ç«¯ï¼Œä½¿ç”¨ <code>.R()</code> è·å–è¯·æ±‚ï¼Œç„¶åè®¾ç½®å¿…è¦çš„ <code>Header</code> å’Œè¯·æ±‚ä½“ï¼Œæœ€åä½¿ç”¨ <code>Post</code> æ–¹æ³•å‘èµ·è¯·æ±‚ï¼Œå¾—åˆ°ä¸€ä¸ªå¯è¿›è¡Œåç»­å¤„ç†çš„ <code>Response</code> ç»“æ„ä½“æŒ‡é’ˆã€‚è¯¦ç»†å†…å®¹ä¸‹é¢ä¼šè®²ã€‚</p>
<h3 id="22-json-"><a class="anchor" href="#22-json-">#</a> 2.2 json æ ¼å¼æ•°æ®å¤„ç†</h3>
<p>å½“æˆ‘ä»¬å¾—åˆ°äº†è¯·æ±‚åˆ°çš„æ•°æ®ï¼Œä½ ä¼šå‘ç°å®ƒæ˜¯ä¸€ä¸ª json æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬éœ€è¦ä»è¯¥ json æ ¼å¼æ•°æ®ä¸­å¾—åˆ°æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ï¼Œå¦‚é¢˜å·ã€é¢˜ç›®è¦æ±‚ã€é¢˜ç›®ä»£ç ç­‰ã€‚åœ¨ go ä¸­ï¼Œä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„å®è·µæ˜¯ gjsonã€‚è€Œå½“æˆ‘ä»¬æƒ³è¦ä¿®æ”¹ json å­—ç¬¦ä¸²æ—¶ï¼ˆä½ ä¼šå‘ç°æˆ‘ä»¬ç¡®å®éœ€è¦ï¼‰ï¼Œsjson åˆ™æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚åœ¨è·å–ç‰¹å®šé¢˜ç›®æ ‡é¢˜æ—¶ï¼Œæˆ‘ä½¿ç”¨äº† gjson ä»¥è·å–æ ‡é¢˜å’Œéš¾åº¦ç­‰çº§ã€‚</p>
<pre><code class="language-go">
func GetSlug(index int) (slug, diff string) {
    res := query(slugPayload)
    jsonString := res.String()
    baseFindPath := fmt.Sprintf(&quot;data.allQuestionsBeta.#(questionId=%d)&quot;, index)
    slugFindPath := baseFindPath + &quot;.titleSlug&quot;
    diffFindPath := baseFindPath + &quot;.difficulty&quot;
    slug = gjson.Get(jsonString, slugFindPath).String()
    diff = gjson.Get(jsonString, diffFindPath).String()
    return
}
</code></pre>
<h2 id="3-"><a class="anchor" href="#3-">#</a> 3 ğŸ›å¼€å§‹çˆ¬å–æ•°æ®</h2>
<p>OKï¼Œåˆ°è¿™é‡Œä½ å·²ç»çŸ¥é“äº†è¯¥ä½¿ç”¨ä»€ä¹ˆå·¥å…·ï¼Œè€Œæˆ‘ä»¬çš„çˆ¬è™«æ•™ç¨‹ä¹Ÿç»ˆäºå¯ä»¥æ­£å¼å¼€å§‹äº†ï¼</p>
<h3 id="31-"><a class="anchor" href="#31-">#</a> 3.1 çˆ¬å–ç‰¹å®šé¢˜ç›®ä¿¡æ¯</h3>
<p>é¦–å…ˆè®©æˆ‘ä»¬å…ˆçˆ¬å–ç‰¹å®šé¢˜ç›®çš„æœ‰ç”¨ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å¯èƒ½åŒ…æ‹¬é¢˜ç›®çš„é¢˜å·ã€éš¾åº¦ã€ä»£ç ã€éœ€æ±‚å’Œæ ‡é¢˜ï¼Œä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå°†å®ƒä»¬åŠ å…¥ä¸€ä¸ªç»“æ„ä½“ã€‚</p>
<pre><code class="language-go">type Data struct {
    Index int
    Diff string
    CodeR string
    NeedR string
    TitleR string
}
</code></pre>
<p>å½“ä½ è¿›å…¥åŠ›æ‰£å¹¶ä¸”æ‰“å¼€ä¸€ä¸ªå…·ä½“çš„é¢˜ç›®ï¼ˆè¿™é‡Œä»¥å¤§å®¶ç†ŸçŸ¥çš„â€œ<a href="https://leetcode.cn/problems/two-sum/">ä¸¤æ•°ä¹‹å’Œ</a>â€ä¸ºä¾‹ï¼‰ï¼ŒæŒ‰ <code>F12</code> æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œä¾æ¬¡ç‚¹å‡»ç½‘ç»œå’Œ <code>XHR</code>ï¼Œä½ ä¼šå‘ç°å¾ˆå¤š <code>graphql/</code>ï¼Œè¿™äº›å³æ˜¯åŠ›æ‰£çš„ <code>api</code> è¯·æ±‚ä¿¡æ¯ã€‚åœ¨ä»”ç»†æ£€æŸ¥æ¯é¡¹çš„æ•°æ®å†…å®¹åå°±èƒ½å¤Ÿå‘ç°è®°å½•ç€å…¨éƒ¨æˆ‘ä»¬æ‰€éœ€è¦ä¿¡æ¯çš„æ•°æ®ï¼š</p>
<pre><code class="language-json">data: {,â€¦}
question: {questionId: &quot;1&quot;, questionFrontendId: &quot;1&quot;, categoryTitle: &quot;Algorithms&quot;, boundTopicId: 2,â€¦}
</code></pre>
<p>æ¥ç€æˆ‘ä»¬å°±å¯ä»¥æŸ¥çœ‹æ ‡å¤´ï¼Œè®°å½•è¯·æ±‚åœ°å€ï¼ˆæ­¤å¤„ä¸º <code>https://leetcode.cn/graphql/</code>ï¼‰ã€<code>crsftoken</code> å’Œ <code>referer</code>ï¼Œå¹¶ä¸”è®¾ç½®çˆ¬è™«çš„ <code>Header</code>ï¼Œå¹¶å¤åˆ¶è¯·æ±‚è½½è·ä¿¡æ¯ä½œä¸ºè¯·æ±‚ä½“ï¼Œä»¥ä¸Šé¢çš„åœ°å€å‘é€ <code>POST</code> è¯·æ±‚ï¼š</p>
<pre><code class="language-go">func query(bodyJsonString string) *req.Response {
    res, err := req.C().R().
        //csrfæ ‡å¤´è®¾ç½®
        SetHeader(&quot;x-csrftoken&quot;,
        &quot;**********************************************************&quot;).
        SetHeader(&quot;referer&quot;, &quot;https://leetcode.cn/problems&quot;).
        SetBodyJsonString(bodyJsonString).
        Post(&quot;https://leetcode.cn/graphql/&quot;)
        checkErr(err)
    return res
}
</code></pre>
<p>å…¶ä¸­è¯·æ±‚ä½“å¯ä»¥è‡ªå®šä¹‰è¯·æ±‚é¡¹ï¼Œåªè·å–æˆ‘ä»¬å¯èƒ½ç”¨å¾—ä¸Šçš„å…³é”®æ•°æ®ï¼š</p>
<pre><code class="language-json">//è¯·æ±‚ä½“
{
&quot;operationName&quot;: &quot;questionData&quot;,
&quot;variables&quot;: {
&quot;titleSlug&quot;: &quot;two-sum&quot;
},
&quot;query&quot;: &quot;query questionData($titleSlug: String!) { question(titleSlug: $titleSlug) {\n questionId\n categoryTitle\n title\n titleSlug\n translatedTitle\n translatedContent\n isPaidOnly\n difficulty\n codeSnippets\n { lang\n langSlug\n code\n } } }&quot;
}
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±åœ¨ <code>res</code> ä¸­è·å¾—äº†åœ¨æµè§ˆå™¨ä¸­æŠ“åŒ…å¾—åˆ°çš„åŒæ ·çš„ json æ•°æ®ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>res.String()</code> å°†å®ƒæ‰“å°å‡ºæ¥ä»¥è¿›è¡ŒéªŒè¯ï¼›æˆ‘ä»¬è¿™é‡Œå°±ä¸è¿™æ ·åšäº†ã€‚ç„¶åä½¿ç”¨ <code>gjson</code> æå–æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼š</p>
<pre><code class="language-go">
func GetInter(slug, codeType string) (string, string, string) {
    interPayload, err := sjson.Set(interPayload, &quot;variables.titleSlug&quot;, slug)
    checkErr(err)
    res := query(interPayload)
    jsonString := res.String()
    codeTypeCode := model.CodeTypeMap[codeType]
    code := fmt.Sprintf(&quot;data.question.codeSnippets.%v.code&quot;, codeTypeCode)
    need := &quot;data.question.translatedContent&quot;
    title := &quot;data.question.translatedTitle&quot;
    codeR := gjson.Get(jsonString, code).String()
    needR := gjson.Get(jsonString, need).String() //html
    titleR := gjson.Get(jsonString, title).String()
    return codeR, needR, titleR
}
</code></pre>
<p><code>gjson</code> çš„ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼šå®ƒçš„åŸºæœ¬ä½¿ç”¨æ–¹å¼æ˜¯ <code>gjson.Get(jsonå­—ç¬¦ä¸²ï¼ŒæŸ¥æ‰¾å­—ç¬¦ä¸²)</code>ï¼Œå®ƒèƒ½å¤Ÿé€šè¿‡ <code>çˆ¶å…ƒç´ å.å­å…ƒç´ å</code> ä»¥è·å–å­å…ƒç´ çš„å€¼ã€‚è‡³äºå¦‚ <code>#(questionId=1)</code> åˆ™æ˜¯è·å–æ•°ç»„å†…å±æ€§ <code>questionId</code> ä¸º 1 çš„å…ƒç´ ã€‚æœ€åä½¿ç”¨ <code>.String()</code> æ–¹æ³•å°†å…¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<p>ç”±ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å°±è·å–äº†ç‰¹å®šé¢˜ç›®çš„ä»£ç ï¼Œéœ€æ±‚å’Œæ ‡é¢˜ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬å¦‚ä½•çˆ¬å–å…¶ä»–é¢˜ç›®å‘¢ï¼Ÿæˆ‘ä»¬å‘ç°æ¶‰åŠé¢˜ç›®æ ‡é¢˜çš„è¯·æ±‚ä¿¡æ¯åªæœ‰ <code>referer</code> å’Œè¯·æ±‚ä½“çš„ <code>titleSlug</code>ï¼Œè€Œä¿®æ”¹ <code>referer</code> ä¼¼ä¹æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œé‚£ä¹ˆçœŸæ­£åŒºåˆ†ä¸åŒé¢˜ç›®çš„å°±åªæœ‰ <code>titleSlug</code> çš„å€¼ã€‚åªè¦åˆ©ç”¨ <code>sjson</code> å°†å…¶ä¿®æ”¹ä¸ºå…¶ä»–é¢˜ç›®çš„æ ‡é¢˜ï¼Œæˆ‘ä»¬ç¡®å®æ‹‰å–åˆ°äº†å…¶ä»–é¢˜ç›®çš„ä¿¡æ¯ã€‚</p>
<h3 id="heading"><a class="anchor" href="#heading">#</a> çˆ¬å–å…¨éƒ¨é¢˜ç›®åˆ—è¡¨</h3>
<p>è‡³æ­¤æˆ‘ä»¬å·²ç»èƒ½å¤Ÿæ ¹æ®æ ‡é¢˜å–å¾—æˆ‘ä»¬éœ€è¦çš„æ•°æ®äº†ï¼Œä½†æ¯æ¬¡ä¼ å…¥æ ‡é¢˜çš„å½¢å¼å¹¶ä¸é«˜æ•ˆï¼Œæ›´ä½•å†µè¿˜æ˜¯ slug æ ¼å¼çš„æ ‡é¢˜ã€‚æˆ‘ä»¬æ‰€éœ€è¦çš„æ˜¯æ ¹æ®é¢˜å·çˆ¬å–é¢˜ç›®ä¿¡æ¯ã€‚</p>
<p>è¿˜æ˜¯å›åˆ°<a href="https://leetcode.cn/problems/two-sum/">ä¸¤æ•°ä¹‹å’Œ</a>è¿™ä¸ªé¡µé¢ï¼Œå¦‚æœä½ è¶³å¤Ÿä»”ç»†çš„è¯ï¼Œä½ å¯èƒ½æ—©å°±å‘ç°äº†ä»¥ä¸‹çš„ json ä¿¡æ¯ï¼š</p>
<pre><code class="language-json">{data: {allQuestionsBeta: [{questionId: &quot;1&quot;, __typename: &quot;QuestionNode&quot;, status: &quot;ac&quot;},â€¦]}}
</code></pre>
<p>è¯¥ä¿¡æ¯ä¸­ç»´æŠ¤äº†å…¨éƒ¨çš„é¢˜ç›®ä¿¡æ¯ï¼Œé€‚å½“ä¿®æ”¹å…¶è¯·æ±‚ä½“ä»¥è·å– <code>slug</code> æ ¼å¼æ ‡é¢˜ï¼Œå½“ç„¶è¿™ä¹Ÿå¯åŒ…æ‹¬å…¶ä»–æ•°æ®ï¼š</p>
<pre><code class="language-json">{&quot;operationName&quot;: &quot;allQuestions&quot;, &quot;query&quot;: &quot;query allQuestions { allQuestionsBeta { ...questionSummaryFields __typename }}fragment questionSummaryFields on QuestionNode { title titleSlug translatedTitle questionId difficulty __typename}&quot;}
</code></pre>
<blockquote>
<p>ç»†å¿ƒçš„åŒå­¦å¯èƒ½æ³¨æ„åˆ°ï¼Œä¸ºä½•æˆ‘ä»¬ä¸åœ¨è¿™é‡Œå–å¾—é¢˜ç›®å…·ä½“çš„ä¿¡æ¯ï¼Œå¦‚codeå’Œneedä¹‹ç±»çš„å‘¢ï¼Ÿä¸ºä½•æˆ‘ä»¬è¿˜éœ€è¦ç»´æŠ¤ä¸€ä¸ªè¯·æ±‚ä¸“é—¨çˆ¬å–ä¸Šé¢ä¸¤ä¸ªæ•°æ®å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘åœ¨ä¿®æ”¹ä¸Šé¢è¯·æ±‚ä½“çš„è¿‡ç¨‹ä¸­å‘ç°åªè¦è¯·æ±‚äº†ä»¥ä¸Šä»»ä½•ä¸€ä¸ªæ•°æ®å°±ä¼šæŠ¥é”™ï¼Œå› æ­¤ä¸å¾—ä¸è¿™æ ·åšï¼Œè™½ç„¶å¯èƒ½å› æ­¤æ‹–æ…¢äº†ç¨‹åºçš„é€Ÿåº¦ï¼ˆæ¯•ç«Ÿè¦çˆ¬ä¸¤æ¬¡å‘¢ï¼‰ã€‚</p>
</blockquote>
<p>äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨å®ƒå–å¾—é¢˜å·å¯¹åº”çš„æ ‡é¢˜ï¼š</p>
<pre><code class="language-go">func GetSlug(index int) (slug, diff string) {
    res := query(slugPayload)
    jsonString := res.String()
    baseFindPath := fmt.Sprintf(&quot;data.allQuestionsBeta.#(questionId=%d)&quot;, index)
    slugFindPath := baseFindPath + &quot;.titleSlug&quot;
    diffFindPath := baseFindPath + &quot;.difficulty&quot;
    slug = gjson.Get(jsonString, slugFindPath).String()
    diff = gjson.Get(jsonString, diffFindPath).String()
    return
}
</code></pre>
<p>é™¤å¼€ä»¥ä¸Šå…³é”®ç¯èŠ‚å°±åªå‰©ä¸‹ä¸€äº›æ–‡ä»¶æ“ä½œï¼ˆä»¥åŠä¸€äº›ç®€å•çš„uiï¼‰ï¼Œæœ€åçˆ¬è™«éƒ¨åˆ†æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-go">func Get(index int) {
    t := timer.NewTimer()
    t.Start()
    config.ReadConfig()

    codeType := viper.GetString(&quot;codeType&quot;)
    slug, diff := query.GetSlug(index)
    codeR, needR, titleR := query.GetInter(slug, codeType)
    data := &amp;model.Data{Index: index, Diff: diff, CodeR: codeR, NeedR: needR, TitleR: titleR}
    codeDir := viper.GetString(&quot;codeDir&quot;)

    var dir string
    if viper.GetBool(&quot;moduled&quot;) {
        diff := strings.ToLower(data.Diff)
        dir = filepath.Join(codeDir, diff, strconv.Itoa(data.Index)+&quot;.&quot;+data.TitleR)
    } else {
        dir = filepath.Join(codeDir, strconv.Itoa(data.Index)+&quot;.&quot;+data.TitleR)
    }

    os.MkdirAll(dir, os.ModePerm)
    codeFilename := &quot;main.&quot; + codeType
    codeFilePath := filepath.Join(dir, codeFilename)
    needFilePath := filepath.Join(dir, &quot;need.md&quot;)

    if !isExist(codeFilePath) {
        color.Cyan(&quot;è¯·å‹¿é‡å¤æ‹‰å–æ–‡ä»¶&quot;)
        return
    } else {
        cfile, err := os.Create(codeFilePath)
        checkErr(err)
        defer cfile.Close()
        info := viper.GetString(&quot;append.prefix&quot;) + data.CodeR
        cfile.WriteString(info)
    }

    if viper.GetBool(&quot;function.useNeed&quot;) {
        if !isExist(needFilePath) {
            color.Cyan(&quot;è¯·å‹¿é‡å¤æ‹‰å–æ–‡ä»¶&quot;)
            return
        } else {
            nfile, err := os.Create(needFilePath)
            checkErr(err)
            defer nfile.Close()
            nfile.WriteString(needR)
        }
    }
    t.Stop()
}
</code></pre>
</article>
  </div>
</body>

</html>