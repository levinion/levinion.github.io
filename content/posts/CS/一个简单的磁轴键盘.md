---
title: 一个简单的磁轴键盘
created: 2025-04-07 14:15:36
---

<image src="https://i.imgur.com/ZbXbY8p.jpg" alt="keyboard-pic" style="transform:rotate(-90deg);width:60%;display:flex;margin:auto"/>

```cpp
#include <Arduino.h>
#include <USBHIDKeyboard.h>
#include <USB.h>

#define LED1 GPIO_NUM_10

#define KEY1 GPIO_NUM_16
#define KEY2 GPIO_NUM_17

USBHIDKeyboard keyboard;

void setup() {
  Serial.begin(115200);
  pinMode(LED1, OUTPUT);
  keyboard.begin();
  USB.begin();
}

void loop() {
  auto hal = analogRead(KEY1);
  if (hal < 1800) {
    digitalWrite(LED1, HIGH);
    keyboard.press('z');
  } else {
    digitalWrite(LED1, LOW);
    keyboard.releaseAll();
  }
  delay(1);
}
```

